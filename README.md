# Udacity Movie Trailer

[![Stories in Ready](https://badge.waffle.io/golgistudio/udacity-movie-trailer.png?label=ready&title=Ready)](https://waffle.io/golgistudio/udacity-movie-trailer)    [![Build Status](https://travis-ci.org/golgistudio/udacity-movie-trailer.svg?branch=master)](https://travis-ci.org/golgistudio/udacity-movie-trailer)

A demo web page for viewing movie trailers built as part of the Udacity Fullstack Nanodegree program.
The page does not include media queries, so is best viewed on a tablet or larger view port.

View the site hosted on github pages - [https://golgistudio.github.io/udacity-movie-trailer/](https://golgistudio.github.io/udacity-movie-trailer/)

<img src="https://raw.githubusercontent.com/wiki/golgistudio/udacity-movie-trailer/images/movie_screenshot.png" alt="Movie screenshot" width="600">

## Table of contents

* [Getting Started](#getting-started)
* [Overview](#overview)
* [Quality Checks](#quality-checks)
 * [Python Linter](#python-linter)
 * [Javascript Linter](#javascript-linter)
 * [CSS Linter](#css-linter)
 * [Python Tests](#python-tests)
 * [Acceptance Tests](#acceptance-tests)
 * [Webdev Checklist](#webdev-checklist)


## Getting Started

### If you don't have Python installed - install Python 2.7.x 
   - See [python.org](https://www.python.org/downloads/) for instructions on downloading for your os

### 1. Clone the repo

```
git clone https://github.com/golgistudio/udacity-movie-trailer.git
```

### 2. cd into the cloned repo

```
cd udacity-movie-trailer
```

### 3. Open a generated web page
The browser should show a page that looks similar to the above image.

```
npm run dev
```

## Overview

The page is built using a python script....
* Reads movie data from src/data/movies.json
* Outputes public/index.html using src/fresh_tomatoes.py as the input template   

```
udacity-movie-trailer/
├── public/                          # Website files
|   |-- images/
|   |   |-- noun_23947.png           # Logo - [Noun Project](https://thenounproject.com/term/movie/23947/) 
|   |-- js/   
|   |    ├── actions.js              # jquery functions to launch the trailer
|   ├── styles/
|   |   ├── bootstrap-overrides.css  # Style overrides for bootstrap navbar
|   |   ├── styles.css               # Styles for the movie cards
│   ├── favicon.ico
│   ├── index.htm                    # Automatically generated web page
│   ├── robots.txt
├── src/
│   ├── data/                
│   |   ├── movies.json              # Movies to display stored in json format
│   ├── tests/
|   |   |-- acceptance/
|   |   |   |-- launchTrailer.acctests.js # Example test for verifying that the trailer is launched
|   |   |-- testData
|   |   |   |-- testMovies.json      # Test movies for unit tests
│   ├── entertainment_center.py      # Launch script for generating the index.html
│   ├── fresh_tomatoes.py            # Modified script that contains the html templates
│   ├── get_movie_list.py            # Script to read in the movies from the json file
│   ├── media.py                     # Script that defines the movie class
│   └── test_get_movie_list.py       # Example test for reading in movies
|-- .gitignore                       # File patterns to ignore when pushing to git
|-- .stylelintrc                     # stylelint rules - copied from [alienlebarge/stylelint-config](https://github.com/alienlebarge/stylelint-config/blob/master/.stylelintrc)
|-- .travis.requirements.txt         # List of python files to install as part of the Travis CI build
|-- .travis.ym                       # Travis configuration
|-- codecept.conf.js                 # Codecept acceptance testing configuration
|-- LICENSE
|-- package.json                     # Short cut scripts and quality check packages to install
|-- README.md
|-- selniuminit.js                   # Script to launch selenium
```

The following file/directories are generated by the development environment and are temporary
```
__pycache__/     # python cache
.cache/          # vscode cache
*.pyc            # compiled python
node_modules/    # Installed modules used for quality checks 
```

## Quality Checks

As part of the initial setup, linters and example tests were created.  These are not
complete, but serve as a boilerplate for future development

To see the output, view the job log from a recent travis build.  
[Travis build for the udacity-movie-trailer](https://travis-ci.org/golgistudio/udacity-movie-trailer)

Setup to run the checks
* Install the following python packages
  * pylint
  ```
  pip install pylint
  ```
  * ptest
  ```
  pip install ptest 
  ```
* If you do not have node and npm installed, install version node 6.9.x
  * [nodejs.org](https://nodejs.org/en/download/)

* Install the rest from the package.json files
  ```
  npm install
  ```

See the package.json file for the shortcut mappings.

### Python Linter
* [pylint](https://www.pylint.org/)
* pylint checks that the code conforms with [Pep 8](https://www.python.org/dev/peps/pep-0008/) 

```
npm run pylint
```

### Javascript Linter
* [jshint](http://jshint.com/)
* Basic style checks.  If more javascript code is written, recommend using [eslint](http://eslint.org/)

```
npm run jshint
```

### CSS Linter
* [stylelint](http://stylelint.io/)
* Basic style checks. Rules are defined in the .stylelintrc file

```
npm run stylelint
```

### Python Tests
* [pytest](http://doc.pytest.org/en/latest/)
* Example python test

```
npm run pytest
```

### Acceptance tests
* [codeceptjs](http://codecept.io/)
* Example acceptance test.

Run the following commands in individual terminals

```
npm run selenium    # Starts the selenium server
npm start           # Starts a basic web server to serve the static page on port 8000
npm run codecept    # Run the acceptance test
```

### Webdev Checklist
* [webdev](http://webdevchecklist.com/)
* Install the chrome extension
  * Launch the extension to get feedback on some basic page speed, and html


